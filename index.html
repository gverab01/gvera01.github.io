<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags básicos -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDJ Chile - Brazilian JiuJitsu &amp; Artes Marciales</title>
    <meta name="description" content="Bjj en Providencia y Las Condes, Chile. Disciplina, profesionalismo y dedicación nos distinguen. Para todas las edades, ¡niños y adultos!" />
    <link rel="canonical" href="https://www.edjchile.cl">
    <link rel="icon" type="image/webp" href="assets/icons/edj_favicon.png">

    <!-- Open Graph Meta Tags para redes sociales -->
    <meta property="og:title" content="EDJ Chile - Brazilian JiuJitsu & Artes Marciales" />
    <meta property="og:description" content="Bjj en Providencia y Las Condes, Chile. Disciplina, profesionalismo y dedicación nos distinguen. Para todas las edades, ¡niños y adultos!" />
    <meta property="og:image" content="https://www.edjchile.cl/assets/img/edj_270_270.png" />
    <meta property="og:url" content="https://www.edjchile.cl" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="EDJ Chile" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="EDJ Chile - Brazilian JiuJitsu & Artes Marciales" />
    <meta name="twitter:description" content="Bjj en Providencia y Las Condes, Chile. Disciplina, profesionalismo y dedicación nos distinguen. Para todas las edades, ¡niños y adultos!" />
    <meta name="twitter:image" content="https://www.edjchile.cl/assets/img/edj_270_270.png" />

    <!-- Hojas de estilo -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Fuente Montserrat - todos los pesos -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Botón flotante de WhatsApp -->
    <a href="https://wa.me/5691234567" target="_blank" class="whatsapp-float" aria-label="WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <!-- ==================== HEADER SECTION ==================== -->
    <header>
        <!-- Header superior: logo, título y CTA -->
        <div class="header-top">
            <!-- Título del sitio (oculto en mobile) -->
            <h1 class="nav-brand">EDJ CHILE</h1>
            
            <!-- Logo -->
            <a href="#inicio">
                <img src="./assets/img/EDJ_300_100.png" alt="logo EDJ Chile" class="nav-logo">
            </a>
            
            <!-- Botón CTA -->
            <a href="#trial" class="cta">Agenda Clase de Prueba</a>
            
            <!-- Botón hamburguesa para navegación móvil -->
            <button class="nav-toggle" aria-label="Abrir navegación" aria-expanded="false">
                <span class="bar"></span>
            </button>
        </div>
        
        <!-- Barra de navegación -->
        <nav class="navbar">
            <ul>
                <li><a href="#hero">Inicio</a></li>
                <li><a href="#programas">Programas</a></li>
                <li><a href="#instructores">Instructores</a></li>
                <li><a href="#sedes">Sedes</a></li>
                <li><a href="#horarios">Horarios</a></li>
                <li><a href="#sponsors">Sponsors</a></li>
                <li><a href="#faqs">Preguntas Frecuentes</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <!-- ==================== MAIN CONTENT ==================== -->
    <main>
        <!-- Sección Hero -->
        <section class="hero" id="hero">
            <!-- Imagen hero para desktop -->
            <div class="hero-desktop">
                <img src="./assets/img/Untitled-1920-x-1080-px.jpg" alt="EDJ Chile Brazilian JiuJitsu" class="hero-image">
            </div>

            <!-- Carrusel hero para mobile: usa las tres imágenes de programas -->
            <div class="hero-carousel" aria-hidden="false" aria-label="Hero carousel">
                <div class="slide active">
                    <img src="./assets/img/program-defensa.png" alt="Defensa Personal" loading="lazy">
                </div>
                <div class="slide">
                    <img src="./assets/img/program-ninos.png" alt="Programa Niños" loading="lazy">
                </div>
                <div class="slide">
                    <img src="./assets/img/program-adultos.png" alt="Programa Adultos" loading="lazy">
                </div>
            </div>
        </section>

        <!-- Sección Programas -->
        <section class="programas" id="programas">
            <h2>Programas</h2>
            <p>Descubre nuestros programas de entrenamiento diseñados para ti.</p>
            
            <div class="program-cards">
                <!-- Card 1: Defensa personal para mujeres -->
                <a href="defensa-personal-mujeres.html" class="program-card">
                    <img src="./assets/img/program-defensa.png" alt="Defensa Personal">
                    <div class="program-card__text">
                        <h3>Defensa Personal para</h3>
                        <h2>Mujeres</h2>
                    </div>
                </a>
                
                <!-- Card 2: Programa para niños -->
                <a href="programa-ninos.html" class="program-card">
                    <img src="./assets/img/program-ninos.png" alt="Programa Niños">
                    <div class="program-card__text">
                        <h3>Jiu jitsu para</h3>
                        <h2>Niños</h2>
                    </div>
                </a>
                
                <!-- Card 3: Programa para adultos -->
                <a href="programa-adultos.html" class="program-card">
                    <img src="./assets/img/program-adultos.png" alt="Programa Adultos">
                    <div class="program-card__text">
                        <h3>Jiu jitsu para</h3>
                        <h2>Adultos</h2>
                    </div>
                </a>
            </div>
        </section>

        <!-- Sección Instructores -->
        <section class="instructores" id="instructores">
            <h2>Instructores</h2>
            <p>Conoce a nuestro equipo de instructores profesionales y dedicados.</p>
            
            <div class="instructores-grid">
                <!-- Instructor 1 -->
                <div class="instructor-card">
                    <div class="instructor-card__image">
                        <img src="./assets/img/instructor-1.png" alt="Fabián Soto">
                    </div>
                    <div class="instructor-card__content">
                        <h3>Fabian Soto</h3>
                        <p class="instructor-card__rank">Cinturón Negro - 1er grado</p>
                        <p class="instructor-card__bio">
                            Graduado y dirigido por el profesor Juan Pablo García. Con más de 15 años de experiencia en Jiu Jitsu brasileño, ha formado a cientos de estudiantes 
                            en técnicas avanzadas y filosofía del arte marcial. 
                        </p>
                    </div>
                </div>
                
                <!-- Instructor 2 -->
                <div class="instructor-card">
                    <div class="instructor-card__image">
                        <img src="./assets/img/instructor-2.png" alt="María Jesús Rojas">
                    </div>
                    <div class="instructor-card__content">
                        <h3>María Jesús Rojas</h3>
                        <p class="instructor-card__rank">Cinturón Negro</p>
                        <p class="instructor-card__bio">
                            Instructora certificada con enfoque en clases para niños y mujeres. Su pasión es empoderar 
                            a través del Jiu Jitsu y crear un ambiente de aprendizaje seguro y motivador para todos.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Botón para conocer más instructores -->
            <div class="instructores-cta">
                <a href="instructores.html" class="btn-instructores">Conoce a Todo el Equipo EDJ</a>
            </div>
        </section>

            <!-- Sección Sedes -->
        <section class="sedes" id="sedes">
            <h2>Nuestras Sedes</h2>
            <p>Entrena en nuestras ubicaciones principales en Santiago.</p>
            
            <div class="sedes-grid">
                <!-- Sede Providencia -->
                <div class="sede-card">
                    <div class="sede-card__header">
                        <h3>Providencia</h3>
                        <span class="sede-badge">Matriz</span>
                    </div>
                    <div class="sede-card__info">
                        <p class="sede-address">
                            <i class="fas fa-map-marker-alt"></i>
                            Av. Providencia 1234, Providencia
                        </p>
                        <p class="sede-contact">
                            <i class="fas fa-phone"></i>
                            +56 9 1234 5678
                        </p>
                    </div>
                    <a href="./sedes/index.html#providencia" class="sede-link">Ver detalles y mapa</a>
                </div>
                
                <!-- Sede Las Condes -->
                <div class="sede-card">
                    <div class="sede-card__header">
                        <h3>Las Condes</h3>
                        <span class="sede-badge">Sede Principal</span>
                    </div>
                    <div class="sede-card__info">
                        <p class="sede-address">
                            <i class="fas fa-map-marker-alt"></i>
                            Av. Apoquindo 5678, Las Condes
                        </p>
                        <p class="sede-contact">
                            <i class="fas fa-phone"></i>
                            +56 9 8765 4321
                        </p>
                    </div>
                    <a href="./sedes/index.html#las-condes" class="sede-link">Ver detalles y mapa</a>
                </div>
            </div>
            
            <!-- CTA para ver todas las sedes -->
            <div class="sedes-cta">
                <p class="sedes-cta__text">¿Buscas otra ubicación?</p>
                <a href="./sedes/index.html" class="btn-sedes">Ver Todas las Sedes</a>
            </div>
        </section>
        
        <!-- Sección Horarios -->
        <section class="horarios" id="horarios">
            <h2>Horarios</h2>
            <p>Consulta nuestros horarios de clases para todas las edades y niveles.</p>
            
            <div class="schedule-container">
                <!-- Pestañas de navegación -->
                <div class="schedule-tabs">
                    <button class="schedule-tab active" data-location="providencia">Providencia</button>
                    <button class="schedule-tab" data-location="las-condes">Las Condes</button>
                </div>
                
                <!-- Contenido de horarios por ubicación -->
                <div class="schedule-content">
                    <!-- Horarios Providencia -->
                    <div class="schedule-location active" id="providencia">
                        <h3>Lunes - Viernes</h3>
                        <table class="schedule-table">
                            <thead>
                                <tr>
                                    <th>Hora</th>
                                    <th>Clase</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>6:00 AM</td>
                                    <td>Fundamentals</td>
                                </tr>
                                <tr>
                                    <td>6:00 AM</td>
                                    <td>Basics</td>
                                </tr>
                                <tr>
                                    <td>7:30 AM</td>
                                    <td>Pro Training</td>
                                </tr>
                                <tr>
                                    <td>8:30 AM</td>
                                    <td>Fundamentals</td>
                                </tr>
                                <tr>
                                    <td>9:30 AM</td>
                                    <td>Kids Nogi (Level 03)</td>
                                </tr>
                                <tr>
                                    <td>10:30 AM</td>
                                    <td>Kids Pro Training (Level 03)*</td>
                                </tr>
                                <tr>
                                    <td>3:20 PM</td>
                                    <td>Kids 3-5 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>3:10 PM</td>
                                    <td>Kids 6-8 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>4:10 PM</td>
                                    <td>Kids 3-5 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>4:00 PM</td>
                                    <td>Kids 6-8 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>5:00 PM</td>
                                    <td>Kids 9-13 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>5:00 PM</td>
                                    <td>Nogi</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Horarios Las Condes -->
                    <div class="schedule-location" id="las-condes">
                        <h3>Lunes - Viernes</h3>
                        <table class="schedule-table">
                            <thead>
                                <tr>
                                    <th>Hora</th>
                                    <th>Clase</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>7:00 AM</td>
                                    <td>Fundamentals</td>
                                </tr>
                                <tr>
                                    <td>8:00 AM</td>
                                    <td>Basics</td>
                                </tr>
                                <tr>
                                    <td>4:00 PM</td>
                                    <td>Kids 6-8 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>5:00 PM</td>
                                    <td>Kids 9-13 (Level 01, 02 & 03)</td>
                                </tr>
                                <tr>
                                    <td>6:00 PM</td>
                                    <td>Fundamentals</td>
                                </tr>
                                <tr>
                                    <td>7:00 PM</td>
                                    <td>Advanced</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Sponsors -->
        <section class="sponsors" id="sponsors">
            <h2>Sponsors</h2>
            <p>Conoce a nuestros patrocinadores que apoyan nuestra misión.</p>
        </section>
        
        <!-- Sección FAQs -->
        <section class="faqs" id="faqs">
            <h2>Preguntas Frecuentes</h2>
            <p>Encuentra respuestas a las preguntas más comunes sobre nuestras clases y programas.</p>
        </section>
        
        <!-- Sección Contacto -->
        <section class="contacto" id="contacto">
            <h2>Contacto</h2>
            <p>Contáctanos para más información o para agendar una clase de prueba.</p>
        </section>
    </main>

    <!-- ==================== FOOTER SECTION ==================== -->
    <footer>
        <p>&copy; 2025 EDJ Chile. Todos los derechos reservados.</p>
    </footer>
    
    <!-- ==================== SCRIPTS ==================== -->
    <script>
        (function () {
            // ========== ACTUALIZAR ALTURA DEL HEADER ==========
            
            /**
             * Actualiza la variable CSS --header-offset según la altura real del header
             * Necesario para el scroll-padding-top y margin-top del main
             */
            function updateHeaderOffset() {
                var header = document.querySelector('header');
                if (!header) return;
                var height = header.getBoundingClientRect().height;
                document.documentElement.style.setProperty('--header-offset', height + 'px');
            }

            // Usar ResizeObserver para detectar cambios en el tamaño del header
            if ('ResizeObserver' in window) {
                var headerEl = document.querySelector('header');
                if (headerEl) {
                    var observer = new ResizeObserver(updateHeaderOffset);
                    observer.observe(headerEl);
                }
            }

            // Actualización inicial y en resize (fallback)
            window.addEventListener('load', updateHeaderOffset);
            window.addEventListener('resize', updateHeaderOffset);

            // ========== CARRUSEL HERO MÓVIL ==========
            
            /**
             * Inicializa el carrusel del hero con transición crossfade entre slides
             * Solo se activa en pantallas menores a 1024px
             */
            (function initHeroCarousel() {
                var carousel = document.querySelector('.hero-carousel');
                if (!carousel) return;
                
                var slides = Array.prototype.slice.call(carousel.querySelectorAll('.slide'));
                if (slides.length < 2) return;
                
                var activeIndex = 0;
                var intervalId = null;
                var running = false;
                var BREAKPOINT = 1024;

                function showSlide(index) {
                    slides.forEach(function (s, i) {
                        s.classList.toggle('active', i === index);
                    });
                    activeIndex = index;
                }

                function nextSlide() {
                    var next = (activeIndex + 1) % slides.length;
                    showSlide(next);
                }

                function start() {
                    if (running) return;
                    running = true;
                    intervalId = setInterval(nextSlide, 3500);
                }

                function stop() {
                    running = false;
                    if (intervalId) { 
                        clearInterval(intervalId); 
                        intervalId = null; 
                    }
                }

                function checkStartStop() {
                    if (window.innerWidth <= BREAKPOINT) {
                        start();
                    } else {
                        stop();
                        showSlide(0);
                    }
                }

                window.addEventListener('resize', checkStartStop);
                window.addEventListener('orientationchange', checkStartStop);
                window.addEventListener('load', checkStartStop);
                checkStartStop();
            })();

            // ========== NAVEGACIÓN MÓVIL ==========
            
            /**
             * Controla el menú hamburguesa en dispositivos móviles
             */
            (function initNavToggle() {
                var toggle = document.querySelector('.nav-toggle');
                var navbar = document.querySelector('nav.navbar');
                if (!toggle || !navbar) return;
                
                // Toggle del menú
                toggle.addEventListener('click', function () {
                    var open = navbar.classList.toggle('open');
                    toggle.classList.toggle('open', open);
                    toggle.setAttribute('aria-expanded', !!open);
                });

                // Cerrar menú al hacer clic en un enlace
                var links = navbar.querySelectorAll('a[href^="#"]');
                links.forEach(function (a) {
                    a.addEventListener('click', function () {
                        if (navbar.classList.contains('open')) {
                            navbar.classList.remove('open');
                            toggle.classList.remove('open');
                            toggle.setAttribute('aria-expanded', 'false');
                        }
                    });
                });
            })();
        })();

        // ========== TABS DE HORARIOS ==========

        /**
         * Controla la funcionalidad de pestañas para mostrar horarios por ubicación
         */
        (function initScheduleTabs() {
            var tabs = document.querySelectorAll('.schedule-tab');
            var locations = document.querySelectorAll('.schedule-location');
            
            if (!tabs.length || !locations.length) return;
            
            tabs.forEach(function(tab) {
                tab.addEventListener('click', function() {
                    var targetLocation = this.getAttribute('data-location');
                    
                    // Remover clase active de todas las tabs
                    tabs.forEach(function(t) {
                        t.classList.remove('active');
                    });
                    
                    // Agregar clase active a la tab clickeada
                    this.classList.add('active');
                    
                    // Ocultar todas las ubicaciones
                    locations.forEach(function(loc) {
                        loc.classList.remove('active');
                    });
                    
                    // Mostrar la ubicación seleccionada
                    var targetElement = document.getElementById(targetLocation);
                    if (targetElement) {
                        targetElement.classList.add('active');
                    }
                });
            });
        })();
    </script>
</body>
</html>